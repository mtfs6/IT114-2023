<table><tr><td> <em>Assignment: </em> IT114 Chatroom Milestone4</td></tr>
<tr><td> <em>Student: </em> Mohamed Saad (mts6)</td></tr>
<tr><td> <em>Generated: </em> 7/25/2023 1:29:24 PM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-006-S23/it114-chatroom-milestone4/grade/mts6" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <p>Implement the features from Milestone3 from the proposal document:&nbsp;&nbsp;<a href="https://docs.google.com/document/d/1ONmvEvel97GTFPGfVwwQC96xSsobbSbk56145XizQG4/view">https://docs.google.com/document/d/1ONmvEvel97GTFPGfVwwQC96xSsobbSbk56145XizQG4/view</a></p>
</td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Client can export chat history of their current session (client-side) </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot of related UI</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.12.21d1-s1.png.webp?alt=media&token=e1b69018-7952-468f-af1e-00ffa13a2ccc"/></td></tr>
<tr><td> <em>Caption:</em> <p>I am displaying the java swing gui that is responsible for exoprting chat<br>data.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot of exported data</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.13.27d1-s2.png.webp?alt=media&token=813a125c-9500-4fdb-9985-d94a9dc54d5f"/></td></tr>
<tr><td> <em>Caption:</em> <p>I am dislpaying the exported data from client into a txt file, when<br>export button was clicked.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.30.54d1-s1.png.webp?alt=media&token=6f61595e-f13b-4d30-b1e5-955de5e4f2b9"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here, i am showing the way i have formatted the chat.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <div>A method saveLogsToFile() is created in the client-side, which saves the contents of<br>the logsTextArea to a file named "chatLogs.txt" in the current working directory. This<br>method is called when the "Export" button is clicked.</div><div><br></div><div>Here's a brief explanation of<br>the code:</div><div><br></div><div>saveLogsToFile() method: This method is responsible for saving the contents of the<br>logsTextArea to a file.</div><div><br></div><div>String filePath = "chatLogs.txt";: This line sets the file path<br>for the "chatLogs.txt" file to be created in the current working directory.</div><div><br></div><div>try (BufferedWriter<br>writer = new BufferedWriter(new FileWriter(filePath))) { ... }: This creates a BufferedWriter object<br>to write the contents to the file specified by the filePath.</div><div><br></div><div>writer.write(logsTextArea.getText());: This line<br>writes the contents of the logsTextArea to the file.</div><div><br></div><div>appendLog("Logs saved to file: "<br>+ filePath);: If the saving process is successful, this line will append a<br>log message indicating that the logs have been saved to the file.</div><div><br></div><div>catch (IOException<br>ex) { ... }: This catches any IOException that might occur during the<br>file-writing process.</div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Client's mute list will persist across sessions (server-side) </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of how the mute list is stored</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.32.52WhatsApp%20Image%202023-07-19%20at%2002.16.25.jpg.webp?alt=media&token=ff558edb-9b76-4513-8b14-ac60aa439ed6"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here, i am wring whole hashmap in the txt file through bufferwriter.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.34.15d2-s1.png.webp?alt=media&token=bec8f634-4a23-4bd9-9338-99d6ad8d1dd7"/></td></tr>
<tr><td> <em>Caption:</em> <p>The muteList is a HashMap in Java that stores the list of muted<br>clients for each client&#39;s ID. Here&#39;s how the muteList is structured and stored:<br><br>Key:<br>Long (Client&#39;s ID)<br>Value: ArrayList<Long> (List of muted client IDs)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of the code saving/loading mute list</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.20.02d2-s2.png.webp?alt=media&token=313da44f-3f07-48f6-9ea5-b512d406b4d8"/></td></tr>
<tr><td> <em>Caption:</em> <p>The MuteListFileHandler class is responsible for reading and writing the muteList to a<br>file named &quot;muteList.txt&quot;. It provides two methods:<br><br>- writeMuteListToFile(HashMap&lt;Long, ArrayList<Long>&gt; muteList): This method takes<br>the muteList as input and writes it to the &quot;muteList.txt&quot; file using an<br>ObjectOutputStream.<br><br>- readMuteListFromFile(): This method reads the muteList from the &quot;muteList.txt&quot; file using an<br>ObjectInputStream and returns the retrieved muteList.<br><br>In the muteClientWithId method of the server, the<br>following steps are executed:<br><br>1.Check if the muteList already contains the clientId. If not,<br>add a new entry with the clientId as the key and an empty<br>ArrayList as the value.<br><br>2.Add the id of the client that is being muted<br>to the ArrayList associated with the clientId key in the muteList.<br><br>3.Notify the muted<br>client (with id) that they have been muted by sending a message to<br>their client thread using client.send(). This message is of the form &quot;You have<br>been muted by Client[clientId]&quot;.<br><br>4.Finally, write the updated muteList to the file using MuteListFileHandler.writeMuteListToFile(Server.muteList).<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.21.19d2-s22.png.webp?alt=media&token=da4068c9-9ceb-4ede-8440-00b81da67a25"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here, as explained previously, i have displayed my methods that handle the data<br>extraction and saving from the file.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <div>The implementation of mute/unmute functionality involves the following steps:</div><div><br></div><div>Client Side:</div><div><br></div><div>When the client wants<br>to mute another client, they click the "Mute" button and enter the ID<br>of the client they wish to mute in a text field.</div><div>The client then<br>sends a message to the server indicating that they want to mute the<br>specified client.</div><div>The server receives this message and processes it. It adds the muted<br>client's ID to the muteList associated with the muter client's ID.</div><div>The server then<br>sends a message to the muted client, informing them that they have been<br>muted by the client with the given ID.</div><div>Server Side:</div><div><br></div><div>When the server receives a<br>message from a client requesting to mute another client, it checks if the<br>muter client's ID is present in the muteList.</div><div>If the muter client's ID is<br>not present, it adds a new entry in the muteList with the muter<br>client's ID as the key and an empty ArrayList as the value.</div><div>It then<br>adds the muted client's ID to the ArrayList associated with the muter client's<br>ID in the muteList.</div><div>The server then broadcasts a message to all clients, including<br>the muted client, indicating that the client with the given ID has muted<br>the client with the specified ID.</div><div>Client Side (Muted Client):</div><div><br></div><div>When the muted client receives<br>the broadcasted message indicating that they have been muted, they can handle it<br>as needed, such as disabling certain features or displaying a notification to the<br>user.</div><div>Client Side (Muter Client):</div><div><br></div><div>When the muter client receives a response from the server<br>indicating that the muted client has been muted, they can handle it as<br>needed, such as displaying a confirmation message to the user.</div><div>Persisting Mute Data:</div><div><br></div><div>To ensure<br>that the mute information is retained even after the server restarts, the server<br>writes the muteList to a file using the MuteListFileHandler.writeMuteListToFile() method.</div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Client's will receive a message when they get muted/unmuted by another user </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the related chat messages</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.35.44d3-s1.png.webp?alt=media&token=732d1b52-f360-45f7-89b6-d2c66a574969"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here, a client has requested to mute another client which has been accepted<br>by server and appropriate broadcast messages<br>were issued.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of the related code snippets</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.36.36d3-s2.png.webp?alt=media&token=eb4a9737-3045-44d1-834a-eb19bd11b745"/></td></tr>
<tr><td> <em>Caption:</em> <p>Client Side:<br><br>When the client wants to mute another client, they click the &quot;Mute&quot;<br>button and enter the ID of the client they wish to mute in<br>a text field.<br>The client then sends a message to the server indicating that<br>they want to mute the specified client.<br>The server receives this message and processes<br>it. It adds the muted client&#39;s ID to the muteList associated with the<br>muter client&#39;s ID.<br>The server then sends a message to the muted client, informing<br>them that they have been muted by the client with the given ID.<br>Server<br>Side:<br><br>When the server receives a message from a client requesting to mute another<br>client, it checks if the muter client&#39;s ID is present in the muteList.<br>If<br>the muter client&#39;s ID is not present, it adds a new entry in<br>the muteList with the muter client&#39;s ID as the key and an empty<br>ArrayList as the value.<br>It then adds the muted client&#39;s ID to the ArrayList<br>associated with the muter client&#39;s ID in the muteList.<br>The server then broadcasts a<br>message to all clients, including the muted client, indicating that the client with<br>the given ID has muted the client with the specified ID.<br>Client Side (Muted<br>Client):<br><br>When the muted client receives the broadcasted message indicating that they have been<br>muted, they can handle it as needed, such as disabling certain features or<br>displaying a notification to the user.<br>Client Side (Muter Client):<br><br>When the muter client receives<br>a response from the server indicating that the muted client has been muted,<br>they can handle it as needed, such as displaying a confirmation message to<br>the user.<br><br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.38.17d3-s22.png.webp?alt=media&token=9b8b9c4f-6601-44b1-9509-e0ea088c13c5"/></td></tr>
<tr><td> <em>Caption:</em> <p>Additional code<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <div>Client Side:</div><div><br></div><div>When the client wants to mute another client, they click the "Mute"<br>button and enter the ID of the client they wish to mute in<br>a text field.</div><div>The client then sends a message to the server indicating that<br>they want to mute the specified client.</div><div>The server receives this message and processes<br>it. It adds the muted client's ID to the muteList associated with the<br>muter client's ID.</div><div>The server then sends a message to the muted client, informing<br>them that they have been muted by the client with the given ID.</div><div>Server<br>Side:</div><div><br></div><div>When the server receives a message from a client requesting to mute another<br>client, it checks if the muter client's ID is present in the muteList.</div><div>If<br>the muter client's ID is not present, it adds a new entry in<br>the muteList with the muter client's ID as the key and an empty<br>ArrayList as the value.</div><div>It then adds the muted client's ID to the ArrayList<br>associated with the muter client's ID in the muteList.</div><div>The server then broadcasts a<br>message to all clients, including the muted client, indicating that the client with<br>the given ID has muted the client with the specified ID.</div><div>Client Side (Muted<br>Client):</div><div><br></div><div>When the muted client receives the broadcasted message indicating that they have been<br>muted, they can handle it as needed, such as disabling certain features or<br>displaying a notification to the user.</div><div>Client Side (Muter Client):</div><div><br></div><div>When the muter client receives<br>a response from the server indicating that the muted client has been muted,<br>they can handle it as needed, such as displaying a confirmation message to<br>the user.</div><div><br></div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> User list should update per the status of each user </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot for Muted users by the client should appear grayed out</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.39.10d4-s1.png.webp?alt=media&token=59cbab96-008e-4d35-8531-bc4810db1b8a"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here, the client had requested to mute the client with id 21, hence<br>the client has been muted.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot for Last person to send a message gets highlighted</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-07-19T08.40.21d4-s2.png.webp?alt=media&token=742dc9ad-2f63-42c9-ac0f-b6e81a2974b1"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here, client 21 was muted hence the client has been highlighted.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <div>The appendClient() method is responsible for dynamically updating the list of connected clients<br>displayed in the usersTextArea on the server's GUI. It uses SwingUtilities.invokeLater() to execute<br>the code in the Event Dispatch Thread (EDT),</div><div>&nbsp;which is the thread responsible for<br>handling GUI updates in Swing applications.</div><br></td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-006-S23/it114-chatroom-milestone4/grade/mts6" target="_blank">Grading</a></td></tr></table>