<table><tr><td> <em>Assignment: </em> IT114 Chatroom Milestone3</td></tr>
<tr><td> <em>Student: </em> Mohamed Saad (mts6)</td></tr>
<tr><td> <em>Generated: </em> 8/9/2023 1:59:17 AM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-006-S23/it114-chatroom-milestone3/grade/mts6" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <p>Implement the features from Milestone3 from the proposal document:&nbsp;&nbsp;<a href="https://docs.google.com/document/d/1ONmvEvel97GTFPGfVwwQC96xSsobbSbk56145XizQG4/view">https://docs.google.com/document/d/1ONmvEvel97GTFPGfVwwQC96xSsobbSbk56145XizQG4/view</a></p>
</td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Connection Screens </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707834-bf5a5b13-ec36-4597-9741-aa830c195be2.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshots showing the screens with the following data</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.40.21d1-s1.png.webp?alt=media&token=de51ce95-ef24-4f7c-bcb3-04d42ecedaa3"/></td></tr>
<tr><td> <em>Caption:</em> <p>I am showing in screen1, options for user to customize the url and<br>the port on which the server is running.<br>In screen2, i am showing option<br>for user to enter his preferred username to enter the chat!<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.42.13d1-s1-2.png.webp?alt=media&token=5b799a9c-4845-4fd7-9e0e-0db00aa84012"/></td></tr>
<tr><td> <em>Caption:</em> (missing)</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Briefly explain the code for each step of the process</td></tr>
<tr><td> <em>Response:</em> <div>- createConnectionScreen():</div><div>This method creates a GUI panel with fields for the user to<br>enter the host IP address and port number of the server they want<br>to connect to. It also includes a "Next" button to proceed with the<br>connection attempt. When the "Next" button is clicked, it triggers an ActionListener that<br>attempts to establish a connection to the server using the provided host and<br>port. If the connection is successful, it moves to the next step (presumably<br>the user input screen). If there's an error during the connection attempt, it<br>logs the error message.</div><div><br></div><div>- createUserInputScreen():</div><div>This method creates another GUI panel with a field<br>for the user to enter their desired username. It also includes a "Join"<br>button to proceed. When the "Join" button is clicked, it triggers another ActionListener<br>that retrieves the entered username, sets it for the client, and proceeds to<br>the next step.</div><div><br></div><div>Assuming the rest of the code manages the application flow correctly,<br>here's how the new client would connect to the server:</div><div><br></div><div>The user launches the<br>client application.</div><div>The createConnectionScreen() method is called, displaying a panel asking for the server's<br>IP address and port number.</div><div>The user enters the appropriate values (or uses the<br>defaults: "127.0.0.1" and "3000") and clicks the "Next" button.</div><div>The ActionListener for the "Next"<br>button attempts to establish a connection to the server using the provided host<br>and port.</div><div>If the connection is successful, the client proceeds to the next step,<br>which is the createUserInputScreen() method.</div><div>The createUserInputScreen() method is called, displaying a panel asking<br>for the user's desired username.</div><div>The user enters a username and clicks the "Join"<br>button.</div><div>The ActionListener for the "Join" button retrieves the entered username, sets it for<br>the client, and proceeds to the next step, continuing with the application's functionality</div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Chatroom view </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshots showing the related UI</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.43.46d2-s1.png.webp?alt=media&token=1014e7c1-914c-4a25-93e5-a5afb5ead7c3"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here, first i am showing a screen that displays all users in the<br>chat room, space for chat conversation, at bottom <br>space to enter the message<br>and send button that sends the message.<br>In second picture, i show the code<br>responsible to send message at enter key press.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.44.59d2-s1-2.png.webp?alt=media&token=090c15ab-417b-48d4-8fe2-1d52bb2c045b"/></td></tr>
<tr><td> <em>Caption:</em> <p>Sinppet of code<br></p>
</td></tr>
</table></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Chat Activities </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707834-bf5a5b13-ec36-4597-9741-aa830c195be2.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Show screenshots of the result of the following commands</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.46.08d3-s1-1.png.webp?alt=media&token=2c3cb8cd-c063-4f72-a3cc-f95125dcd17b"/></td></tr>
<tr><td> <em>Caption:</em> <p>I am showing the user alex entering the commands /flip and /roll and<br>their outputs.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.46.29d3-s1-2.png.webp?alt=media&token=229f8d01-1cf6-4201-8aa6-25211b115ac8"/></td></tr>
<tr><td> <em>Caption:</em> (missing)</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Show the code snippets for each command</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.47.51d3-s2.png.webp?alt=media&token=1db35248-7295-4569-a589-ec62c467a2c8"/></td></tr>
<tr><td> <em>Caption:</em> <p>I am showing code responsible for flip and roll commands<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain the code flow of each command</td></tr>
<tr><td> <em>Response:</em> <div>roll(ServerThread client):</div><div>This method simulates a dice roll. It generates a random number between<br>0 and 6 (inclusive) using the flipRoll.nextInt(7) method call. The result is then<br>sent to the client using the sendMessage(client, ...) method. The message sent to<br>the client contains the rolled value, and it's formatted with HTML tags to<br>make the text bold, italic, and colored in purple.</div><div><br></div><div>flip(ServerThread client):</div><div>This method simulates a<br>coin flip. It generates a random number between 0 and 1 (inclusive) using<br>the flipRoll.nextInt(2) method call. Based on the generated result, it decides whether the<br>outcome is heads or tails. The corresponding message is constructed, and then it<br>sends this message to the client using the sendMessage(client, ...) method. The message<br>sent to the client is formatted with HTML tags to make the text<br>bold, italic, and colored in gray.</div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> Custom Text </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Screenshots of examples</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.49.53d4-s1.png.webp?alt=media&token=349ed663-1dcd-4c6d-adee-b40037172b11"/></td></tr>
<tr><td> <em>Caption:</em> <p>I have shown all text manipuation functionality in 1 screenshot. All functionality is<br>clearly understandable<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Briefly explain how you got the UI side to render the text accordingly</td></tr>
<tr><td> <em>Response:</em> <div>The application uses various formatting&nbsp; commands, like the ones shown in the provided<br>screenshot (e.g., asterisks for bold, underscores for italics), to indicate how certain parts<br>of the text should be styled. These formatting instructions are embedded within the<br>text.</div><div>The application's logic processes the text and formatting instructions, parsing them to identify<br>specific styling requirements. For example, the application might recognize the bold formatting when<br>it encounters a pair of asterisks around a text segment. It then renders<br>the text according to recieved command on UI screen.&nbsp;</div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 5: </em> Whisper </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707834-bf5a5b13-ec36-4597-9741-aa830c195be2.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshots showing a demo of whisper commands</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.52.04d5-s1.png.webp?alt=media&token=2426ef7f-f999-4b9d-96e5-872edf604ce5"/></td></tr>
<tr><td> <em>Caption:</em> <p>In this message, 3 people are present in lobby, but jones want to<br>privately ask alex for some money as loan, so<br>he used @alex that sends<br>a private message to alex and sarah cant see it.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Show the server-side code snippets of how this feature works</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.52.53d4-s2.png.webp?alt=media&token=c83ae606-e4b6-43e1-a96e-63bd1c08bf7f"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here&#39;s a brief explanation of how the code achieves this functionality:<br><br>Detecting Private Messages:<br>The<br>code checks if the input message contains the &quot;@&quot; symbol. If it does,<br>it assumes that this message is meant for private communication.<br><br>Extracting Usernames and Message:<br>The<br>code then splits the message into two parts using the &quot;@&quot; symbol as<br>the delimiter. The comm array will contain two elements: the part before &quot;@&quot;<br>(which can be empty) and the part after &quot;@&quot;.<br><br>Parsing Usernames:<br>The part after &quot;@&quot;<br>is further split using &quot; @&quot; as the delimiter to separate the usernames<br>of the intended recipients. Each username is added to the users list after<br>converting it to lowercase for case-insensitive matching. The last element in the comm2<br>array represents the part of the message that should be sent to the<br>specified users.<br><br>Sending the Private Message:<br>The sender&#39;s username (client&#39;s username) is also added to<br>the users list, ensuring that they receive the private message as well. The<br>sendPrivateMessage function is then called, passing the sender&#39;s username, the message to be<br>sent (command), and the list of recipients (users). The sendPrivateMessage function is responsible<br>for sending the private message to the specified users.<br><br>Marking as Command:<br>The wasCommand flag<br>is set to true to indicate that a command was processed. This might<br>be used to prevent the message from being displayed in the public chat.<br><br><br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.53.18d5-s2-2.png.webp?alt=media&token=ac4bbbfd-e105-4f5d-8836-19ab95ab0111"/></td></tr>
<tr><td> <em>Caption:</em> (missing)</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain the code logic of how this was achieved</td></tr>
<tr><td> <em>Response:</em> <div>Here's a short explanation of what the code does:</div><div><br></div><div>It takes three parameters: sender,<br>which represents the user who sent the private message; message, which is the<br>content of the private message; and users, which is a list of usernames<br>of the intended recipients of the private message.</div><div><br></div><div>The method logs an informational message,<br>indicating the number of clients (recipients) the message is being sent to.</div><div><br></div><div>It checks<br>if the message contains any commands by calling the processCommands function. If the<br>message is a command, it doesn't broadcast it to the recipients (i.e., it<br>doesn't send the message as a regular chat message).</div><div><br></div><div>It then iterates through all<br>connected clients (represented by clients) using an iterator.</div><div><br></div><div>For each client, it checks if<br>their username (case-insensitive) is present in the users list, indicating they are one<br>of the intended recipients.</div><div><br></div><div>If the client is among the recipients and they are<br>not muted by the sender (the isMuted method is not shown in the<br>provided code), it sends the private message to that client using the send<br>method, passing the sender's username and the message content.</div><div><br></div><div>If the message fails to<br>send (e.g., due to connection issues), the client is removed from the list<br>of connected clients</div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 6: </em> Mute/Unmute </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707834-bf5a5b13-ec36-4597-9741-aa830c195be2.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshots demoing this feature</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.54.59d6-s1-1.png.webp?alt=media&token=00bcaec4-5d1f-4206-86f1-f6900a0a47a3"/></td></tr>
<tr><td> <em>Caption:</em> <p>I am howing muting and unmuting sarah by jones is affecting chat.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.55.14d5-s1-2.png.webp?alt=media&token=c280018d-eeb1-4427-a79c-95ceb0863deb"/></td></tr>
<tr><td> <em>Caption:</em> (missing)</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshots of the code snippets that achieve this feature</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fmts6%2F2023-08-09T07.56.03d6-s2.png.webp?alt=media&token=5e77aa5f-b982-4d98-a809-3017f8e3dc39"/></td></tr>
<tr><td> <em>Caption:</em> <p>Code<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain the code logic of how this was achieved</td></tr>
<tr><td> <em>Response:</em> <div>The code operates based on specific commands, as denoted by MUTE and UNMUTE.<br>Let's break down the behavior of each case briefly:</div><div><br></div><div>case MUTE:</div><div><br></div><div>The code handles the<br>scenario when a user wants to mute other clients in the chat.</div><div>It first<br>splits the message (after the "@" symbol) into individual usernames, separated by commas<br>(, ), using the split(", ") method.</div><div>It then iterates through each username and<br>checks if the client who sent the message (the client) is not already<br>muted by that user (using !client.isMuted(user)).</div><div>If the client is not already muted by<br>the user, the code mutes the client (using client.mute(user)), and the username is<br>added to the muteList.</div><div>After processing all usernames, it sends a private message to<br>the client, informing them that they have been muted by the specified users,<br>using the sendPrivateMessage function and passing the message "muted you" along with the<br>muteList.</div><div>The wasCommand flag is set to true to indicate that a command was<br>processed.</div><div>case UNMUTE:</div><div><br></div><div>This code handles the scenario when a user wants to unmute other<br>clients in the chat.</div><div>It also splits the message (after the "@" symbol) into<br>individual usernames, separated by commas (, ), using the split(", ") method.</div><div>The code<br>iterates through each username and checks if the client who sent the message<br>(client) is muted by that user (using client.isMuted(user)).</div><div>If the client is muted by<br>the user, the code unmutes the client (using client.unmute(user)), and the username is<br>added to the unmuteList.</div><div>After processing all usernames, it sends a private message to<br>the client, informing them that they have been unmuted by the specified users,<br>using the sendPrivateMessage function and passing the message "unmuted you" along with the<br>unmuteList.</div><div>The wasCommand flag is set to true to indicate that a command was<br>processed.</div><div><br></div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 7: </em> Misc </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707795-a9c94a71-7871-4572-bfae-ad636f8f8474.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Pull request from milestone3 to main</td></tr>
<tr><td>Not provided</td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-006-S23/it114-chatroom-milestone3/grade/mts6" target="_blank">Grading</a></td></tr></table>